{% load static %}

<nav class="sticky top-0 left-0 w-full bg-white border-b border-gray-200 shadow-lg z-50">
  <div class="max-w-7xl mx-auto px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">

      <!-- Logo -->
      <div class="flex items-center">
        <a href="{% url 'main:show_main' %}" class="flex items-center space-x-2">
          <img src="{% static 'image/logo.png' %}" alt="GoSport Logo" class="h-10 w-auto">
          <span class="font-bold text-xl text-[#9d0c0c]">GoSport</span>
        </a>
      </div>

      <!-- Menu Desktop -->
      <div class="hidden md:flex items-center space-x-8">
        <a href="{% url 'main:show_main' %}"
          class="{% if request.path == '/' %}text-[#9d0c0c]{% else %}text-gray-700 hover:text-[#9d0c0c]{% endif %} font-medium transition-colors">
          Home
        </a>

        <!-- Role Based Menu -->
        {% if user.is_authenticated %}
        {% if role == 'seller' %}
        <a href="{% url 'main:show_main' %}?filter=my_products"
          class="text-gray-700 hover:text-[#9d0c0c] font-medium transition-colors">My Product</a>
        {% endif %}
        {% endif %}
      </div>

      <!-- Profile / Logout -->
      <div class="hidden md:flex items-center space-x-6">
        {% if user.is_authenticated %}
        {% if user.is_superuser %}
        <!-- Superuser tidak bisa klik profile -->
        <div class="flex items-center space-x-3 cursor-not-allowed opacity-60">
          <img src="{% static 'image/profile.png' %}" alt="Profile"
            class="h-8 w-8 rounded-full border border-gray-300 object-cover">
          <div class="text-right">
            <div class="text-sm font-medium text-gray-900">
              {{ user.username }}
            </div>
            <div class="text-xs text-gray-500">Admin</div>
          </div>
        </div>
        {% else %}
        <!-- Normal user: bisa klik profile -->
        <a href="{% url 'profile_dashboard:profile_dashboard' %}" class="flex items-center space-x-3 group">
          <img src="{% static 'image/profile.png' %}" alt="Profile"
            class="h-8 w-8 rounded-full border border-gray-300 object-cover group-hover:border-[#9d0c0c] transition duration-200">
          <div class="text-right">
            <div class="text-sm font-medium text-gray-900 group-hover:text-[#9d0c0c] transition-colors">
              {{ user.username }}
            </div>
            <div class="text-xs text-gray-500">{{ role|capfirst }}</div>
          </div>
        </a>
        {% endif %}
        <a href="{% url 'main:logout' %}" class="text-[#9d0c0c] hover:text-red-700 font-medium transition-colors">
          Logout
        </a>
        {% else %}
        <a href="{% url 'main:login' %}"
          class="text-gray-700 hover:text-[#9d0c0c] font-medium transition-colors">Login</a>
        <a href="{% url 'main:register' %}"
          class="bg-[#9d0c0c] hover:bg-red-800 text-white px-4 py-2 rounded font-medium transition-colors">Register</a>
        {% endif %}
      </div>

    </div>
  </div>
</nav>